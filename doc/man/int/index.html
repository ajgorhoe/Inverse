<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Generator" content="Microsoft Word 97">
   <meta name="GENERATOR" content="Mozilla/4.5 [en] (X11; I; HP-UX B.10.20 9000/780) [Netscape]">
   <meta name="Author" content="Igor Gresovnik">
   <meta name="Keywords" content="optimization, Inverse, shell, manual, file interface">
   <title>Optimization shell Inverse: manual: a general file interface</title>
   		
    <!-- Google Analitics - account Documents, 
	property Documents - all -->
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	  ga('create', 'UA-96832295-1', 'auto');
	  ga('send', 'pageview');
	</script>
	

</head>
<body text="#000000" bgcolor="#FFFFFF" link="#0000FF" vlink="#800080" alink="#FE0000">
<a href="../../../invhome.html"><img SRC="../../../invlogo.gif" NOSAVE height=100 width=600></a>
<br>&nbsp;
<table BORDER=3 BGCOLOR="#99FFCC" NOSAVE >
<tr NOSAVE>
<td NOSAVE><a NAME="list"></a><font size=-1><a href="../index.html">MANUALS:</a></font>
<blockquote>
<li>
<font size=-1><a href="../short/index.html">Short Guide to INVERSE</a></font></li>

<li>
<font size=-1><a href="../flow/index.html">Flow control</a></font></li>

<li>
<font size=-1><a href="../calc/index.html">Expression evaluator</a></font></li>

<li>
<font size=-1><a href="../var/index.html">User defined variable</a></font></li>

<li>
<b><font size=-1><a href="index.html">General file interface</a></font></b></li>
</blockquote>

<blockquote>
<ul>
<li>
<b><font size=-1><a href="#1.1">Introduction</a></font></b></li>

<li>
<b><font size=-1><a href="#1.2">Structure and Philosophy of the General
File Interface</a></font></b></li>

<li>
<b><font size=-1><a href="#1.3">Auxiliary File Interpreter's Functions
of the Interface</a></font></b></li>

<li>
<b><font size=-1><a href="#1.4">File Interpreter's Functions of the Interface
which&nbsp;</a></font></b></li>

<br><b><font size=-1><a href="#1.4">Operate on the Pre-defined File "infile"</a></font></b>
<li>
<b><font size=-1><a href="#1.5">File Interpreter's Functions of the Interface&nbsp;</a></font></b></li>

<br><b><font size=-1><a href="#1.5">which Operate on Arbitrary Files</a></font></b>
<li>
<b><font size=-1><a href="#1.6">Expression Evaluator's Functions of the
Interface</a></font></b></li>
</ul>

<li>
<font size=-1><a href="../debug/index.html">Syntax checker &amp; debugger</a></font></li>

<li>
<font size=-1><a href="../sim/index.html">Interfaces with simulation programmes</a></font></li>
</blockquote>
</td>
</tr>
</table>

<table BORDER=3 CELLPADDING=3 BGCOLOR="#FFFFCC" NOSAVE >
<tr VALIGN=TOP NOSAVE>
<td><b><font size=-1><a href="#list">Manuals list</a></font></b></td>

<td NOSAVE><b><font size=-1><a href="../manlist/index.html#list">Manuals
list &amp; contents</a></font></b></td>

<td NOSAVE><b><font size=-1><a href="#contents">Table of contents&nbsp;</a></font></b></td>
</tr>
</table>

<br>&nbsp;
<p><a NAME="contents"></a><b><font color="#FF0000"><font size=+2>Table
of Contents:</font></font></b>
<p><b><i><a href="#1">1. A General File Interface for Programme INVERSE</a></i></b>
<ol><b><a href="#1.1">1.1 Introduction</a></b>
<p><b><a href="#1.2">1.2 Structure and Philosophy of the General File Interface</a></b>
<p><b><a href="#1.3">1.3 Auxiliary File Interpreter's Functions of the
Interface</a></b>
<p><font size=-1><a href="#1.3.1">1.3.1 Controlling the Interface System</a></font>
<br>&nbsp;
<dir><font size=-2>1.3.1.1 fprintfileoperror { &lt;num> }</font>
<p><font size=-2>1.3.1.2 printfileoperror { &lt;num> }</font>
<p><font size=-2>1.3.1.3 dprintfileoperror { &lt;num> }</font>
<p><font size=-2>1.3.1.4 fwritefileoperror { &lt;num> }</font>
<p><font size=-2><a href="#1.3.1.5">1.3.1.5 writefileoperror { &lt;num>
}</a></font>
<p><font size=-2>1.3.1.6 dwritefileoperror { &lt;num> }</font>
<p><font size=-2>1.3.1.7 clearfileoperrors { }</font>
<p><font size=-2>1.3.1.8 setfileopbuflength { length }</font>
<br>&nbsp;
<br>&nbsp;</dir>
<b><a href="#1.4">1.4 File Interpreter's Functions of the Interface which
Operate on the Pre-defined File "infile"</a></b>
<p><font size=-1><a href="#1.4.1">1.4.1 Controlling the State of the Interface
File</a></font>
<br>&nbsp;
<dir><font size=-2>1.4.1.1 fprintfpos { }</font>
<p><font size=-2>1.4.1.2 printfpos { }</font>
<p><font size=-2>1.4.1.3 dprintfpos { }</font>
<p><font size=-2>1.4.1.4 fprintfpart { pos1 &lt;pos2> }</font>
<p><font size=-2><a href="#1.4.1.5">1.4.1.5 printfpart { pos1 &lt;pos2>
}</a></font>
<p><font size=-2>1.4.1.6 dprintfpart { pos1 &lt;pos2> }</font>
<p><font size=-2>1.4.1.7 fwritefpart { pos1 &lt;pos2> }</font>
<p><font size=-2>1.4.1.8 writefpart { pos1 &lt;pos2> }</font>
<p><font size=-2><a href="#1.4.1.9">1.4.1.9 dwritefpart { pos1 &lt;pos2>
}</a></font>
<p><font size=-2>1.4.1.10 fsetpos { pos }</font>
<p><font size=-2>1.4.1.11 fincreasepos { inc }</font>
<p><font size=-2>1.4.1.12 fmarkpos { pos }</font>
<br>&nbsp;</dir>
<font size=-1><a href="#1.4.2">1.4.2 Searching for the Data</a></font>
<br>&nbsp;
<dir><font size=-2>1.4.2.1 ffindstring { string &lt;pos after> }</font>
<p><font size=-2>1.4.2.2 ffindstringto {to string &lt;pos after> }</font>
<p><font size=-2>1.4.2.3 fskipstring { string &lt;after pos> }</font>
<p><font size=-2>1.4.2.4 fskipstringto { to string &lt;after pos> }</font>
<p><font size=-2><a href="#1.4.2.5">1.4.2.5 fmultfindstring { {string1
string2 string3 string4 ...} &lt;pos after> }</a></font>
<p><font size=-2>1.4.2.6 fmultfindstringto { to {string1 string2 string3
string4 ...} &lt;pos after> }</font>
<p><font size=-2>1.4.2.7 fmultskipstring { {string1 string2 string3 string4
...} &lt;after pos> }</font>
<p><font size=-2>1.4.2.8 fmultskipstringto { to {string1 string2 string3
string4 ...} &lt;after pos> }</font>
<p><font size=-2>1.4.2.9 ffindcharacter { charstring &lt;pos> }</font>
<p><font size=-2><a href="#1.4.2.10">1.4.2.10 ffindcharacterto { to charstring
&lt;pos> }</a></font>
<p><font size=-2>1.4.2.11 fskipcharacters { charstring &lt;pos> }</font>
<p><font size=-2>1.4.2.12 fskipcharactersto { to charstring &lt;pos> }</font>
<p><font size=-2>1.4.2.13 ffindblank { &lt;pos> }</font>
<p><font size=-2>1.4.2.14 ffindblankto { to &lt;pos> }</font>
<p><font size=-2><a href="#1.4.2.15">1.4.2.15 fskipblanks { &lt;pos> }</a></font>
<p><font size=-2>1.4.2.16 fskipblanksto { to &lt;pos> }</font>
<p><font size=-2>1.4.2.17 fnextline { &lt;pos> }</font>
<p><font size=-2>1.4.2.18 ffindbrac { bracstr &lt;pos1 pos2> }</font>
<p><font size=-2>1.4.2.19 ffindbracto { to bracstr &lt;pos1 pos2> }</font>
<p><font size=-2>1.4.2.20 fskipbrac { bracstr &lt;pos1 pos2> }</font>
<p><font size=-2><a href="#1.4.2.21">1.4.2.21 fskipbracto { to bracstr
&lt;pos1 pos2> }</a></font>
<p><font size=-2>1.4.2.22 ffindnumber { &lt; start next val > }</font>
<p><font size=-2>1.4.2.23 ffindnumberto { to &lt; start next val > }</font>
<p><font size=-2>1.4.2.24 fskipnumber { &lt; next start val > }</font>
<p><font size=-2>1.4.2.25 fskipnumberto { to &lt; next start val > }</font>
<br>&nbsp;</dir>
<font size=-1><a href="#1.4.3">1.4.3 Reading the Data</a></font>
<br>&nbsp;
<dir><font size=-2>1.4.3.1 freadnumber { varname &lt;start next> }</font>
<p><font size=-2>1.4.3.2 freadnumberto { to varname &lt;start next> }</font>
<p><font size=-2>1.4.3.3 freadscalar { scalspec &lt;start next> }</font>
<p><font size=-2>1.4.3.4 freadscalarto { to scalspec &lt;start next> }</font>
<p><font size=-2><a href="#1.4.3.5">1.4.3.5 freadvector { vecspec &lt;start
next> }</a></font>
<p><font size=-2>1.4.3.6 freadvectorto { to vecspec &lt;start next> }</font>
<p><font size=-2>1.4.3.7 freadmatrix { matspec &lt;start next> }</font>
<p><font size=-2>1.4.3.8 freadmatrixto { to matspec &lt;start next> }</font>
<br>&nbsp;
<br>&nbsp;</dir>
<b><a href="#1.5">1.5 File Interpreter's Functions of the Interface which
Operate on Arbitrary Files</a></b>
<p><font size=-1><a href="#1.5.1">1.5.1 Controlling the State of the Files</a></font>
<br>&nbsp;
<dir><font size=-2>1.5.1.1 fprintfilepos { filespec }</font>
<p><font size=-2>1.5.1.2 printfilepos { filespec }</font>
<p><font size=-2>1.5.1.3 dprintfilepos { filespec }</font>
<p><font size=-2>1.5.1.4 fprintfilepart { filespec pos1 &lt;pos2> }</font>
<p><font size=-2><a href="#1.5.1.5">1.5.1.5 printfilepart { filespec pos1
&lt;pos2> }</a></font>
<p><font size=-2>1.5.1.6 dprintfilepart { filespec pos1 &lt;pos2> }</font>
<p><font size=-2>1.5.1.7 fwritefilepart { filespec pos1 &lt;pos2> }</font>
<p><font size=-2>1.5.1.8 writefilepart { filespec pos1 &lt;pos2> }</font>
<p><font size=-2><a href="#1.5.1.9">1.5.1.9 dwritefilepart { filespec pos1
&lt;pos2> }</a></font>
<p><font size=-2>1.5.1.10 filesetpos { filespec pos }</font>
<p><font size=-2>1.5.1.11 fileincreasepos { filespec inc }</font>
<p><font size=-2>1.5.1.12 filemarkpos { filespec pos }</font>
<br>&nbsp;</dir>
<font size=-1><a href="#1.5.2">1.5.2 Searching for the Data</a></font>
<br>&nbsp;
<dir><font size=-2>1.5.2.1 filefindstring { filespec string &lt;pos after>
}</font>
<p><font size=-2>1.5.2.2 filefindstringto { filespec to string &lt;pos
after> }</font>
<p><font size=-2>1.5.2.3 fileskipstring { filespec string &lt;after pos>
}</font>
<p><font size=-2>1.5.2.4 fileskipstringto { filespec to string &lt;after
pos> }</font>
<p><font size=-2><a href="#1.5.2.5">1.5.2.5 filemultfindstring { filespec
{string1 string2 string3 string4 ...} &lt;pos after> }</a></font>
<p><font size=-2>1.5.2.6 filemultfindstringto { filespec to {string1 string2
string3 string4 ...} &lt;pos after> }</font>
<p><font size=-2>1.5.2.7 filemultskipstring { filespec {string1 string2
string3 string4 ...} &lt;after pos> }</font>
<p><font size=-2>1.5.2.8 filemultskipstringto { filespec to {string1 string2
string3 string4 ...} &lt;after pos> }</font>
<p><font size=-2>1.5.2.9 filefindcharacter {filespec charstring &lt;pos>
}</font>
<p><font size=-2><a href="#1.5.2.10">1.5.2.10 filefindcharacterto { filespec
to charstring &lt;pos> }</a></font>
<p><font size=-2>1.5.2.11 fileskipcharacters { filespec charstring &lt;pos>
}</font>
<p><font size=-2>1.5.2.12 fileskipcharactersto { filespec to charstring
&lt;pos> }</font>
<p><font size=-2>1.5.2.13 filefindblank { filespec &lt;pos> }</font>
<p><font size=-2>1.5.2.14 filefindblankto { filespec to &lt;pos> }</font>
<p><font size=-2><a href="#1.5.2.15">1.5.2.15 fileskipblanks { filespec
file &lt;pos> }</a></font>
<p><font size=-2>1.5.2.16 fileskipblanksto { filespec to &lt;pos> }</font>
<p><font size=-2>1.5.2.17 filenextline { filespec &lt;pos> }</font>
<p><font size=-2>1.5.2.18 filefindbrac { filespec bracstr &lt;pos1 pos2>
}</font>
<p><font size=-2>1.5.2.19 filefindbracto { filespec to bracstr &lt;pos1
pos2> }</font>
<p><font size=-2>1.5.2.20 fileskipbrac { filespec bracstr &lt;pos1 pos2>
}</font>
<p><font size=-2><a href="#1.5.2.21">1.5.2.21 fileskipbracto { filespec
to bracstr &lt;pos1 pos2> }</a></font>
<p><font size=-2>1.5.2.22 filefindnumber { filespec &lt; start next val
> }</font>
<p><font size=-2>1.5.2.23 filefindnumberto { filespec to &lt; start next
val > }</font>
<p><font size=-2>1.5.2.24 fileskipnumber { filespec &lt; next start val
> }</font>
<p><font size=-2>1.5.2.25 fileskipnumberto { filespec to &lt; next start
val > }</font>
<br>&nbsp;</dir>
<font size=-1><a href="#1.5.3">1.5.3 Reading the Data</a></font>
<br>&nbsp;
<dir><font size=-2>1.5.3.1 filereadnumber { filespec varname &lt;start
next> }</font>
<p><font size=-2>1.5.3.2 filereadnumberto { filespec to varname &lt;start
next> }</font>
<p><font size=-2>1.5.3.3 filereadscalar { filespec scalspec &lt;start next>
}</font>
<p><font size=-2>1.5.3.4 filereadscalarto { filespec to scalspec &lt;start
next> }</font>
<p><font size=-2><a href="#1.5.3.5">1.5.3.5 filereadvector { filespec vecspec
&lt;start next> }</a></font>
<p><font size=-2>1.5.3.6 filereadvectorto { filespec to vecspec &lt;start
next> }</font>
<p><font size=-2>1.5.3.7 filereadmatrix { filespec matspec &lt;start next>
}</font>
<p><font size=-2>1.5.3.8 filereadmatrixto { filespec to matspec &lt;start
next> }</font>
<br>&nbsp;</dir>
<font size=-1><a href="#1.5.4">1.5.4 Writing to Files and Copying File
Parts</a></font>
<br>&nbsp;
<dir><font size=-2>1.5.4.1 filewrite { filespec writespec }</font>
<p><font size=-2>1.5.4.2 copyfpart { targetspec pos1 &lt;pos2> }</font>
<p><font size=-2>1.5.4.3 copyfilepart { sourcespec targetspec pos1 &lt;pos2>
}</font>
<br>&nbsp;
<br>&nbsp;</dir>
<b><a href="#1.6">1.6 Expression Evaluator's Functions of the Interface</a></b>
<br>&nbsp;
<dir><font size=-2>1.6.1.1 fileoperror [ &lt;which> ]</font>
<p><font size=-2>1.6.1.2 getfpos [ ]</font>
<p><font size=-2>1.6.1.3 getfilepos [ filename, &lt; index1, index2, ...
> ]</font>
<p><font size=-2>1.6.1.4 getfeof [ ]</font>
<p><font size=-2><a href="#1.6.1.5">1.6.1.5 getfileeof [ filename, &lt;
index1, index2, ... > ]</a></font>
<p><font size=-2>1.6.1.6 getflength [ ]</font>
<p><font size=-2>1.6.1.7 getfilelength [ filename, &lt; index1, index2,
... > ]</font>
<p><font size=-2>1.6.1.8 fcheckcharacter [ charstr ]</font>
<p><font size=-2><a href="#1.6.1.9">1.6.1.9 filecheckcharacter [ filename,
charstr, &lt; index1, index2, ... > ]</a></font>
<p><font size=-2>1.6.1.10 fcheckstring [ str ]</font>
<p><font size=-2>1.6.1.11 filecheckstring [ filename, str, &lt; index1,
index2, ... > ]</font>
<p><font size=-2>1.6.1.12 getfile [ varname spec &lt;index1 index2 ...>
]</font>
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;</dir>
</ol>

<li>
<a NAME="1"></a><b><font color="#CC0000"><font size=+2>A General File Interface
for Programme INVERSE</font></font></b></li>

<br>&nbsp;
<p>&nbsp;
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.1"></a><b><i><font color="#CC0000"><font size=+1>Introduction</font></font></i></b></li>

<br>&nbsp;
<table BORDER=3 CELLPADDING=3 BGCOLOR="#FFFFCC" NOSAVE >
<tr VALIGN=TOP NOSAVE>
<td><b><font size=-1><a href="#list">Manuals list</a></font></b></td>

<td NOSAVE><b><font size=-1><a href="../manlist/index.html#list">Manuals
list &amp; contents</a></font></b></td>

<td NOSAVE><b><font size=-1><a href="#contents">Table of contents&nbsp;</a></font></b></td>
</tr>
</table>

<p>The file interface enables the programme to exchange data with other
programmes through text files. Functions of the interface are designed
for searching for various items in files, reading various types of data
from files and writing data to files in various formats.
<p>Exploiting the functionality of the interface, the programme can work
with any simulation programme which uses text files for defining the input
data and writing the results. Any piece of data in the text files which
are arranged according to some rules can be located, read or replaced by
other data using the interface functions. Only some primitive programming
skills and some knowledge about the format of the files are necessary to
programme any data exchange between the shell and the simulation programme
which can possibly be needed during the optimization procedure.
<p>Thanks to the general file interface, a simulation programme and the
shell does not have to be integrated to use them together for solving optimization
and inverse problems. This is due to the fact that the only contact points
between the programmes in the optimization scheme are updating the input
data for the simulation according to the current values of the design parameters
and reading the results of the simulation which are involved in the value
of the objective function and its derivatives.
<p>Nevertheless, the integration is still necessary in the cases where
operations which are typically done by the shell can be performed efficiently
only using the tools which are possessed by the simulation programme. If
this is the case, the shell should have a direct access to specific functions
of the simulation programme. In some cases this is possible only when the
shell and the programme are properly integrated. The transformation of
the input data according to the current values of parameters and the manipulation
of the results to evaluate the values of the objective function and its
derivatives are operations for which it is often beneficial to use the
functionality of the simulation programme.
<p>There is another concerning aspect of using the file interface: the
speed. Typically the simulation programmes output large amounts of results.
Writing large amounts of results to files and searching for the needed
data in such files is time consuming and can be a bottleneck in the optimization
procedure. A direct interface makes possible to avoid these operations
since the data can be directly transferred between the memory locations
at the optimization and simulation part where it normally resides during
the programme runtime. Besides, only the needed portions of the data can
be transferred.
<p>More sophisticated simulation programmes make possible to precisely
specify which results are to be output to a file. In this case the additional
time needed for data exchange through files is negligible as compared with
the time needed for the simulation. With such programmes the general file
interface can be used almost as efficiently as would be a direct interface.
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.2"></a><b><i><font size=+1>Structure and Philosophy of the General
File Interface</font></i></b></li>

<br>&nbsp;
<table BORDER=3 CELLPADDING=3 BGCOLOR="#FFFFCC" NOSAVE >
<tr VALIGN=TOP NOSAVE>
<td><b><font size=-1><a href="#list">Manuals list</a></font></b></td>

<td NOSAVE><b><font size=-1><a href="../manlist/index.html#list">Manuals
list &amp; contents</a></font></b></td>

<td NOSAVE><b><font size=-1><a href="#contents">Table of contents&nbsp;</a></font></b></td>
</tr>
</table>

<p>The file interpreter's functions of the interface enable searching for
specific data in the interface files, reading data from these files, writing
data to these files, controlling and influencing the state of these files,
and controlling the interface system. The expression evaluator's functions
of the interface enable getting information about the interface system
and the interface files.
<p>The interpreter's functions which perform searching, reading and controlling
the state of the interface files are divided into two groups. The first
group of functions perform these operations on the pre-defined file <i>infile</i>,
and the other group of analogous functions perform analogous operations
on arbitrary files defined during the programme runtime. Such division
is introduced because of greater simplicity. The user should not have problems
by remembering the names and syntax of both groups of functions because
each function from one set has an analogous function with similar name
and syntax in the other. Functions from the second group have a sub-string
"<i>file</i>" instead of "<i>f</i>" in their names (e.g. <b>filefindstring</b>
instead of <b>ffindstring</b>) and have an additional argument - the specification
of the file on which they operate. This additional argument is always the
first one in the function's argument block and the other arguments are
identical.
<p>Functions which read the data, search for different items or write data
to files always operate from the current position of the file, so the starting
point of the operation does not have to be specified. After the operation
is completed, the current position of the file is set to the most logical
point according to the kind of operation. For the functions which read
or write data such point is after the last read or written byte. There
are in general two kinds of functions which search for data items. Functions
of the first kind set the current position after a successfully performed
operation to the position of the first byte of the found item while the
functions of the second kind set the position to the first byte after the
found item. There are exceptions to this rule. Functions <b>ffindbrac</b>
and <b>filefindbrac</b> which search for closed pairs of brackets set the
current position to the first byte after the opening bracket if there are
any characters between the opening and the closing bracket, and to the
first character after the closing bracket if it follows immediately the
opening bracket. Such behaviour is logical because it is expected that
the operations on the file which will follow a search for a closed pair
of bracket will start inside the bracket pair anything is contained in
the brackets, otherwise these operations will start after the brackets.
An error code is also recorded if the found brackets contain nothing since
this is often an unexpected situation.
<p>The described arrangement simplifies working with the interface and
enables the user to use as few intermediate variables as possible. However,
in many cases it does not suffice for exchanging data through files. Sometimes
we need to jump to arbitrary positions which are somehow connected to operations
which were previously performed on a file. A special set of functions was
created to enable this by remembering and setting the current position
in a specific file. The expression evaluator's functions <b>getfpos</b>
and <b>getfilepos</b> return the current position of a file. The file interpreter's
functions <b>fmarkpos</b> and <b>filemarkpos</b> assign the current position
of a file to the expression evaluator's variable the name of which is specified
in the argument block of the corresponding function. The file interpreter's
functions <b>fsetpos</b> and <b>filesetpos</b> set the current position
of a file to the value specified in the argument block of the corresponding
function. Sometimes the functions <b>fincreasepos</b> and <b>fileincreasepos</b>
which increase or decrease the file position are more appropriate.
<p>Another mechanism of remembering characteristic positions during the
interfacing operations is available. Most of the functions for reading
and writing allow the user to call them with additional arguments which
specify the names of variables of the expression evaluator to which the
characteristic positions of the corresponding operations. For example,
in the argument blocks of the functions <b>ffindbrac</b>, <b>fskipbrac</b>,
<b>filefindbrac</b>
and <b>fieskipbrac</b> the user can optionally specify names of the expression
evaluator's variables to which the position of the found opening and closing
bracket are assigned, respectively. If only one name is specified, the
position of opening bracket is assigned to the appropriate variable.
<p>In general, in functions which search for different items, the user
can additionally specify at most two names of expression evaluator's variables
for marking characteristic positions. At functions which set the current
position in the file to the beginning of the found item, the position of
the found item is assigned to the first variable and the position of the
first byte after the found item is set to the second variable. It is other
way around at the functions which set the position after the found item.
Only one instead of two variable names can also be specified. Functions
for finding closed pairs of brackets have more specific behaviour (see
above). At functions which search for characters only one additional variable
name can be specified in their argument blocks (two would not make sense
because a character has a constant length 1). The current position after
a successfully performed operation is assigned to the corresponding variable.
<p>If the appropriate operations are not performed successfully, unusual
values are assigned to variables determined by additional arguments for
marking characteristic positions of the operations. Values lesser than
1 which can not represent file positions are usually used for this purpose.
Therefore, the user can also test if operations were performed successfully
through the values of these auxiliary variables. The same is not valid
for functions which perform reading and writing.
<p>At the functions which read data, two additional arguments for marking
characteristic file positions of the appropriate operations are allowed
in their argument blocks. The current position in the file before the beginning
of the operation is assigned to the expression evaluator's variable corresponding
to the first additional argument, and the position of the first byte of
the last piece of data which was read is assigned to the variable corresponding
to the second additional argument.
<p>The functions for searching and reading have the corresponding analogous
functions which perform the same operations in a limited range in files.
Such analogous functions have similar names with a suffix "<i>to</i>".
They also require one additional argument which specifies the end of their
range of action (the beginning is determined by the current position in
the file, as usual). This is the first argument at functions which operate
on the pre-defined file <i>infile</i> and the second at functions which
operate on arbitrary files (the file specification is the first argument
at such functions).
<p>The general file system has a special way of handling errors. Normally
all file interpreter's and expression evaluator's functions of the optimization
notify the user about errors by writing error reports to the standard output
and to the shell's output file. At the interface we have a specific situation
that a failure of an operation may or may not mean an error, dependent
on the situation. This is especially expressive at searching operations.
Typically, when we search for specific data in a file which contains various
data written according to some rules, a lot of failed search operations
are performed. This does not indicate that some data is missing, but only
gives us additional information which we need in order to locate the data.
<p>Because only true erroneous situations should be reported as errors,
there should be a possibility of distinguishing between expected and unexpected
failures of operations. A mechanism which enable this is built into the
interface system. Failures which do not necessarily mean errors are not
reported automatically, but are registered so that they can be examined
after the operation is completed. A decision can then be brought whether
the failure means an error or not. An error report can then be written
only in the case that the failure of the operation means an error, otherwise
further actions are undertaken normally. Unexpected situations which are
definitely errors are not treated in an usual manner so that error reports
are immediately written to the standard output and the output file of the
shell.
<p>There are two mechanisms of recording failures which are not automatically
reported as errors. File interpreter's functions save their status of success
which is a zero integer if the function was performed successfully or a
non-zero integer if the function failed in any sense. The programme keeps
only one code of success so that it is overwritten by the next executed
interface function. The user can obtain the value of this code by the expression
evaluator's function <b>fileoperror</b> called without arguments, and so
check if the last operation was performed successfully. The file interpreter's
functions <b>printfileoperror</b> and <b>fprintfileoperror</b> can be used
to print a report about the success status of the last operation of the
general file interface. These functions must also be called without arguments
to write such report.
<p>Beside keeping in memory the success code of the last performed operation
of the general file interface, at all instances of failures the appropriate
codes are pushed to a special stack. These codes are the same as the above
mentioned success codes, the only difference is that code zero which identifies
successful operation is not pushed on the stack. The user can retrieve
information about these codes by the same functions as for getting information
about the success codes of the last performed operation, only that in this
case the error must be specified by the position on the stack of errors.
<p>If the function <b>fileoperror</b> is called by argument 0, the number
of errors on the stack is returned. If it is called by a positive number,
the appropriate error is returned where the argument identifies the successive
number of the error code on the stack. If the argument is negative, its
absolute value identifies the successive number of the error on the stack
counted backwards. If the value of the argument exceeds the number of errors
on the stack, zero is returned.
<p>The meaning of the argument at the functions <b>printfileoperror</b>
and <b>fprintfileoperror</b> is similar, except that when the argument
is zero, a report about all errors is printed, which is also the case if
the argument is greater by absolute value than the number of errors.
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.3"></a><b><i><font color="#CC0000"><font size=+1>Auxiliary File
Interpreter's Functions of the Interface</font></font></i></b></li>

<br>&nbsp;
<table BORDER=3 CELLPADDING=3 BGCOLOR="#FFFFCC" NOSAVE >
<tr VALIGN=TOP NOSAVE>
<td><b><font size=-1><a href="#list">Manuals list</a></font></b></td>

<td NOSAVE><b><font size=-1><a href="../manlist/index.html#list">Manuals
list &amp; contents</a></font></b></td>

<td NOSAVE><b><font size=-1><a href="#contents">Table of contents&nbsp;</a></font></b></td>
</tr>
</table>

<ol>
<li>
<a NAME="1.3.1"></a><b>Controlling the Interface System</b></li>

<br>&nbsp;
<ol>
<li>
<a NAME="1.3.1.1"></a><b>fprintfileoperror </b><i>{ &lt;num> }</i></li>

<br>Prints a report about a specific error or errors which have occurred
during the file operations, to the optimization shell's output file.
<p>If the function is called without arguments, it prints the report about
error status of the last file operation. Each file operation records its
error status. This is a code of the last error which occurred during the
operation and <b>is not automatically printed</b> to standard output or
the shell's output file. These are normally used to indicate situations
which don't necessarily mean unexpected behaviour, for example if a string
which is searched for in a file is not found. In some situations this can
be absolutely normal, therefore the appropriate function of the shell will
not automatically report an error, but the user can still check if such
situation has occurred, because in some occasions this can mean that something
had gone wrong.
<p>Code zero indicates that no error has occurred during this operation.
An error status of the next file operation overwrites the error status,
but the information about an error is not lost since non-zero error codes
are pushed to a stack from which they can be retrieved and appropriate
error messages can be printed. This is done by functions <b>printfileoperror</b>
and <b>fprintfileoperror</b> when they are called with an argument (<i>num</i>)
which specifies a number of error on the stack.
<p><i>num</i> can be specified in any standard way in which numbers are
specified in argument blocks of commands (as a number, as an expression
or as a variable in the system of the expression evaluator). If the value
of <i>num</i> is zero, error message for all recorded error codes are printed
to the output file. If it is a positive number not greater than the number
of recorded error codes, a message for the <i>num</i>-th error is printed
to the output file (if it is greater than the number of recorded errors,
then error messages for all errors are printed). If the value of <i>num</i>
is negative an its absolute value is not greater than the number of recorded
error codes, then an error message for the <i>num</i>-th error code, counted
from the end of the stack, is printed (again a report about all recorded
error codes is printed if <i>-num</i> is greater than the number of recorded
errors).
<p>All error codes of the file operations can be cleared from the stack
by the <b>clearfileoperrors</b> function. The user can so keep trace only
about errors which occur from a specific point on.
<p>It is good to know that the number of error codes which are remembered
is limited. When the number of recorded error codes execs a specific pre-defined
value, the first few errors are cleared from the stack.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.3.1.2"></a><b>printfileoperror</b><i> { &lt;num> }</i></li>

<br>Prints a report about a specific error or errors which have occurred
during the file operations, to the standard output. Otherwise this function
is identical to <b>fprintfileoperror</b>.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.3.1.3"></a><b>dprintfileoperror</b><i> { &lt;num> }</i></li>

<br>Prints a report about a specific error or errors which have occurred
during the file operations, to the standard output <u>and</u> the programme's
output file. Otherwise this function is identical to <b>fprintfileoperror</b>.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.3.1.4"></a><b>fwritefileoperror </b><i>{ &lt;num> }</i></li>

<br>Prints an error string which corresponds to a specific error or errors
which have occurred during the file operations, to the programme's output
file. The meaning of optional argument <i>num</i> is the same as at function
<b>fprintfileoperror</b>.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.3.1.5"></a><b>writefileoperror</b><i> { &lt;num> }</i></li>

<br>Prints an error string which corresponds to a specific error or errors
which have occurred during the file operations, to the standard output.
Otherwise this function is identical to <b>fwritefileoperror</b>.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.3.1.6"></a><b>dwritefileoperror</b><i> { &lt;num> }</i></li>

<br>Prints an error string which corresponds to a specific error or errors
which have occurred during the file operations, to the standard output
<u>and</u>
the programme's output file.. Otherwise this function is identical to <b>fwritefileoperror</b>.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.3.1.7"></a><b>clearfileoperrors</b><i> { }</i></li>

<br>This function clear all error codes from the stack of file operation
error codes and also sets the error code of the last file operation to
zero. It is used to record all file operation errors anew from a specific
point.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.3.1.8"></a><b>setfileopbuflength</b><i> { length }</i></li>

<br>Sets the size of the buffer which is used ad searching operations to
<i>length</i>.
The default buffer length is 200 bytes and can be changed at any time.
It is ideal if the buffer length is of the same magnitude of order than
the expected search length since in this case only one or a few reading
operations will be performed to find what is searched for. This is good
because accessing input-output devices is usually time consumable. On the
other hand, it is not good if the buffer is much larger than the expected
search length because in this case a lot of necessary data will be read
from the file which is also time consuming. If the expected search length
is extremely large, i.e. takes a significant portion of memory available
on the system, the buffer length must be smaller than recommended above
because in the opposite case we can have problems with insufficient memory
resources.</ol>
</ol>

<li>
<a NAME="1.4"></a><b><i><font color="#CC0000"><font size=+1>File Interpreter's
Functions of the Interface which Operate on the Pre-defined File "infile"</font></font></i></b></li>

<br>&nbsp;
<table BORDER=3 CELLPADDING=3 BGCOLOR="#FFFFCC" NOSAVE >
<tr VALIGN=TOP NOSAVE>
<td><b><font size=-1><a href="#list">Manuals list</a></font></b></td>

<td NOSAVE><b><font size=-1><a href="../manlist/index.html#list">Manuals
list &amp; contents</a></font></b></td>

<td NOSAVE><b><font size=-1><a href="#contents">Table of contents&nbsp;</a></font></b></td>
</tr>
</table>

<ol>
<li>
<a NAME="1.4.1"></a><b>Controlling the State of the Interface File</b></li>
</ol>

<ol>
<ol>
<li>
<a NAME="1.4.1.1"></a><b>fprintfpos</b> <i>{ }</i></li>

<br>Prints a report about the current position in the file <i>infile</i>
to the shell's output file.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.1.2"></a><b>printfpos</b><i> { }</i></li>

<br>Prints a report about the current position in the file <i>infile</i>
to the standard output.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.1.3"></a><b>dprintfpos</b><i> { }</i></li>

<br>Prints a report about the current position in the file <i>infile</i>
to the standard output <u>and</u> the programme's output fie.
<br>&nbsp;
<li>
<a NAME="1.4.1.4"></a><b>fprintfpart</b><i> { pos1 &lt;pos2> }</i></li>

<br>Prints a part of the file <i>infile</i> to the shell's output file.
If <i>pos2</i> is specified, the part of the file from position <i>pos1</i>
to (including) <i>pos2</i> is printed. If only <i>pos1</i> is specified,
<i>pos1</i>
bytes from the current position on (including the current position) of
the file is printed. It prints the file part in the form of a report where
it also prints which part of the file is printed.
<p>If both <i>pos1</i> and <i>pos2</i> are specified, they can be zero,
and <i>pos2</i> can be greater than the length of the file. In this case,
if <i>pos1</i> is zero, it is changed to 1, if <i>pos2</i> is zero, it
is changed to the length of the file, and if <i>pos2</i> is greater than
the length of the file, it is also changed to the length of the file before
the operation is performed. If only <i>pos1</i> is specified, it must be
greater than zero. If in this case <i>pos1</i> bytes from the current position
would exceed the length of the file, <i>pos1</i> is reduced before the
operation so that the length of the file is matched.
<p>An error is recorded if <i>pos1</i> or <i>pos2</i> are invalid. If the
file variable is not defined, an error report is written to the standard
output and to the programme's output file. If it is not connected to a
physical file, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.1.5"></a><b>printfpart</b><i> { pos1 &lt;pos2> }</i></li>

<br>Does the same as <b>fprintfpart</b>, except that it prints to standard
output.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.1.6"></a><b>dprintfpart</b><i> { pos1 &lt;pos2> }</i></li>

<br>Does the same as <b>fprintfpart</b>, except that it prints to the standard
output <u>and</u> to the programme's output file.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.1.7"></a><b>fwritefpart</b><i> { pos1 &lt;pos2> }</i></li>

<br>Prints a part of the file <i>infile</i> to the shell's output file.
If <i>pos2</i> is specified, the part of the file from position <i>pos1</i>
to (including) <i>pos2</i> is printed. If only <i>pos1</i> is specified,
<i>pos1</i>
bytes from the current position on (including the current position) of
the file is printed. Only the file part is printed without any explanation
or newlines, so this function is useful if the user wants to use the contents
of a file as a part of the output which he generates on his own way.
<p>If both <i>pos1</i> and <i>pos2</i> are specified, they can be zero,
and <i>pos2</i> can be greater than the length of the file. In this case,
if <i>pos1</i> is zero, it is changed to 1, if <i>pos2</i> is zero, it
is changed to the length of the file, and if <i>pos2</i> is greater than
the length of the file, it is also changed to the length of the file before
the operation is performed. If only <i>pos1</i> is specified, it must be
greater than zero. If in this case <i>pos1</i> bytes from the current position
would exceed the length of the file, <i>pos1</i> is reduced before the
operation so that the length of the file is matched.
<p>An error is recorded if <i>pos1</i> or <i>pos2</i> are invalid. If the
file is not defined, an error report is written to the standard output
and to the programme's output file. If it is not connected to a physical
file, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.1.8"></a><b>writefpart</b><i> { pos1 &lt;pos2> }</i></li>

<br>Does the same as <b>fwritefpart</b>, except that it prints to standard
output.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.1.9"></a><b>dwritefpart</b><i> { pos1 &lt;pos2> }</i></li>

<br>Does the same as <b>fwritefpart</b>, except that it prints to standard
output <u>and</u> the programme's output file.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.1.10"></a><b>fsetpos</b><i> { pos }</i></li>

<br>Sets the current position in the file <i>infile</i> to the value of
<i>pos</i>.
<i>pos</i>
should be a non-negative number not greater than the file size. If it is
not an integer, it is rounded to the nearest integer. If it is zero, it
is changed to the length of the file plus 1 before the operation is performed.
<p>If it <i>pos</i> is greater than the length of the file, an error is
recorded and the position is set to the end of the file (file length plus
1). If rounded <i>pos</i> is less than zero, an error is recorded and nothing
else happens. If the file is not defined, an error report is written to
the standard output and to the programme's output file. If it is not connected
to a physical file, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.1.11"></a><b>fincreasepos</b><i> { inc }</i></li>

<br>Increases the current position in the file <i>infile</i> by <i>inc</i>.
<i>inc
</i>is
rounded to the nearest integer. It can be negative (in this case the current
position is decreased) or zero.
<p>If the new position would be less than 1, an error code is recorded
and the current position is set to 1. If the new position would be greater
than the file length, an error code is recorded and the current position
is set to the end of the file (the length of the file plus 1).
<p>If the file is not defined, an error report is written to the standard
output and to the programme's output file. If it is not connected to a
physical file, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.1.12"></a><b>fmarkpos</b><i> { pos }</i></li>

<br>Marks the current position in the file <i>infile</i>. The position
is assigned to the expression evaluator's variable named <i>pos</i>. If
the position can not be determined, an integer value less than 1 is assigned
to the variable.</ol>

<ol>If the file is not defined, an error report is written to the standard
output and to the programme's output file. An error is not reported or
recorded if the file is not connected to a physical file. In this case
the marked position is less than one.
<br>&nbsp;
<br>&nbsp;</ol>

<li>
<a NAME="1.4.2"></a><b>Searching for the Data</b></li>
</ol>

<ol>
<ol>
<li>
<a NAME="1.4.2.1"></a><b>ffindstring</b><i> { string &lt;pos after> }</i></li>

<br>Searches for the string <i>string</i> in the file <i>infile </i>from
the current position on. If the string is found, it sets the current position
of this file to the first byte of the found string. <i>pos</i> and <i>after</i>
are optional arguments which specify the names of expression evaluator's
variables into which additional information is stored. The function assigns
the position of the string to the variable named <i>pos</i> and the position
of the first byte after the string to the variable named <i>after</i>.
<p>If the file is not defined, an error report is written to the standard
output and to the programme's output file. If it is not connected to a
physical file or if the string is not found, an appropriate error code
is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.2"></a><b>ffindstringto</b><i> {to string &lt;pos after>
}</i></li>

<br>Like<i> </i><b>ffindstring</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.3"></a><b>fskipstring </b><i>{ string &lt;after pos> }</i></li>

<br>Searches for the string <i>string</i> in the file <i>infile </i>from
the current position on. If the string is found, it sets the current position
of this file to the first byte after the found string. Optional argument
<i>after</i>
specifies the name of the expression evaluator's variable to which the
function assigns this position, and <i>pos</i> specifies the variable to
which this function assigns the position of the found string (i.e. the
first byte if this string if the file).
<p>If the file is not defined, an error report is written to the standard
output and to the programme's output file. If it is not connected to a
physical file or if the string is not found, an appropriate error code
is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.4"></a><b>fskipstringto </b><i>{ to string &lt;after pos>
}</i></li>

<br>Like<i> </i><b>fskipstring</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.5"></a><b>fmultfindstring</b><i> { {string1 string2 string3
string4 ...} &lt;pos after> }</i></li>

<br>Searches for the first occurrence of any of the strings <i>string1</i>,
<i>string2</i>,
<i>string3</i>,
etc. in the file <i>infile</i> from the current position on. If it finds
any of these strings, it sets the current position to the position of the
found string. Strings must be in curly brackets.
<p>If argument <i>pos</i> is given, the function assign the position of
the found string to the expression evaluator's variable named <i>pos</i>.
If <i>after</i> is also given, the function assign the position of the
first byte after the found string to the variable with such name.
<p>If the file is not defined, an error report is written to the standard
output and to the programme's output file. If it is not connected to a
physical file or if the string is not found, an appropriate error code
is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.6"></a><b>fmultfindstringto</b><i> { to {string1 string2
string3 string4 ...} &lt;pos after> }</i></li>

<br>Like <b>fmultfindstring</b>, only that the operation is performed on
a limited region of the file. Argument <i>to<b> </b></i>specifies the upper
limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.7"></a><b>fmultskipstring</b><i> { {string1 string2 string3
string4 ...} &lt;after pos> }</i></li>

<br>Searches for the first occurrence of any of the strings <i>string1</i>,
<i>string2</i>,
<i>string3</i>,
etc. in the file <i>infile</i> from the current position on. If it finds
any of these strings, it sets the current position to the position of the
first byte after the found string. Strings must be in curly brackets.
<p>If argument <i>after</i> is given, the function assign the position
of the first byte of the found string to the expression evaluator's variable
named <i>after</i>, and if <i>pos</i> is also specified, the function assign
the position of the found string to the variable with such name.
<p>If the file is not defined, an error report is written to the standard
output and to the programme's output file. If it is not connected to a
physical file or if the string is not found, an appropriate error code
is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.8"></a><b>fmultskipstringto</b><i> { to {string1 string2
string3 string4 ...} &lt;after pos> }</i></li>

<br>Like<i> </i><b>fmultskipstring</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.9"></a><b>ffindcharacter</b><i> { charstring &lt;pos> }</i></li>

<br>Searches in the file <i>infile</i> from the current position for the
first occurrence of a character included in the string <i>charstring</i>.
If the search is successful then it sets the current position in the file
to the position of the found character.
<p>Optional argument <i>pos</i> specifies a name of the expression evaluator's
variable to which the position of the found character is assigned. If the
search is not successful then a number less than 1 is assigned to that
variable.
<p>If the file is not defined, an error report is written to the standard
output and to the programme's output file. If it is not connected to a
physical file or if the character is not found, an appropriate error code
is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.10"></a><b>ffindcharacterto</b><i> { to charstring &lt;pos>
}</i></li>

<br>Like<i> </i><b>ffindcharacter</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.11"></a><b>fskipcharacters</b><i> { charstring &lt;pos>
}</i></li>

<br>Searches in the file <i>infile</i> from the current position for the
first occurrence of a character <u>not</u> included in the string <i>charstring</i>.
If the search is successful then it sets the current position in the file
to the position of the found character.
<p>Optional argument <i>pos</i> specifies a name of the expression evaluator's
variable to which the position of the found character is assigned. If the
search is not successful then a number less than 1 is assigned to that
variable.
<p>If the file is not defined, an error report is written to the standard
output and to the programme's output file. If it is not connected to a
physical file or if the character is not found, an appropriate error code
is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.12"></a><b>fskipcharactersto</b><i> { to charstring &lt;pos>
}</i></li>

<br>Like<i> </i><b>fskipcharacters</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.13"></a><b>ffindblank</b><i> { &lt;pos> }</i></li>

<br>Searches in the file <i>infile</i> from the current position for the
first occurrence of a blank character, i.e. <u>space, tab, newline, carriage
return or null character</u>. If the search is successful then it sets
the current position in the file to the position of the found character.
<p>Optional argument <i>pos</i> specifies a name of the expression evaluator's
variable to which the position of the found character is assigned. If the
search is not successful then a number less than 1 is assigned to that
variable.
<p>If the file is not defined, an error report is written to the standard
output and to the programme's output file. If it is not connected to a
physical file or if the character is not found, an appropriate error code
is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.14"></a><b>ffindblankto</b><i> { to &lt;pos> }</i></li>

<br>Like<i> </i><b>ffindblank</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.15"></a><b>fskipblanks</b><i> { &lt;pos> }</i></li>

<br>Searches in the file <i>infile</i> from the current position for the
first occurrence of a non-blank character (blank characters are the
<u>space,
tab, newline, carriage return and null character</u>). If the search is
successful then it sets the current position in the file to the position
of the found character.
<p>Optional argument <i>pos</i> specifies a name of the expression evaluator's
variable to which the position of the found character is assigned. If the
search is not successful then a number less than 1 is assigned to that
variable.
<p>If the file is not defined, an error report is written to the standard
output and to the programme's output file. If it is not connected to a
physical file or if the character is not found, an appropriate error code
is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.16"></a><b>fskipblanksto</b><i> { to &lt;pos> }</i></li>

<br>Like<i> </i><b>fskipblanks</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.17"></a><b>fnextline</b><i> { &lt;pos> }</i></li>

<br>Sets the current position in the file <i>infile</i> to the beginning
of the next line from the current position in this file. If such position
is found, it sets the current position in this file to it.
<p>Optional argument <i>pos</i> specifies a name of the expression evaluator's
variable to which the position of the found position is assigned. If the
search is not successful then a number less than 1 is assigned to that
variable.
<p>If the file is not defined, an error report is written to the standard
output and to the programme's output file. If it is not connected to a
physical file or if the next line can not be located (e.g. when the current
position is in the last line of the file), an appropriate error code is
recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.18"></a><b>ffindbrac</b><i> { bracstr &lt;pos1 pos2> }</i></li>

<br>Searches in the file <i>infile</i> from the current position for the
first occurrence of a closed bracket specified by <i>bracstr</i>. The first
character of <i>bracstr</i> must be the character used for the opening
bracket and the second character of the string must be the character used
for the closing bracket. These characters may not be the same. Sequences
which represent special characters can be used in this string. If the search
is successful then the function sets the current position in the file to
the position of the first character inside the bracket if the bracket contain
any characters, otherwise it sets the current position to the position
of the first character after the bracket.
<p>Optional arguments <i>pos1</i> and <i>pos2</i> specify names of the
expression evaluator's variables to which the position of the found opening
and closing bracket is assigned. If the search is not successful then a
number less than 1 is assigned to those variables.
<p>If the file is not defined, an error report is written to the standard
output and to the programme's output file. If it is not connected to a
physical file or if a bracket is not found, an appropriate error code is
recorded. An error code is also recorded if a bracket is found but does
not contain any characters, i.e. the closing bracket immediately follow
the opening bracket.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.19"></a><b>ffindbracto</b><i> { to bracstr &lt;pos1 pos2>
}</i></li>

<br>Like<i> </i><b>ffindbrac</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.20"></a><b>fskipbrac</b><i> { bracstr &lt;pos1 pos2> }</i></li>

<br>Searches in the file <i>infile</i> from the current position for the
first occurrence of a closed bracket specified by <i>bracstr</i>. The first
character of <i>bracstr</i> must be the character used for the opening
bracket and the second character of the string must be the character used
for the closing bracket. These characters may not be the same. Sequences
which represent special characters can be used in this string. If the search
is successful then the function sets the current position in the to the
position of the first character after the bracket.
<p>Optional arguments <i>pos1</i> and <i>pos2</i> specify names of the
expression evaluator's variables to which the position of the found opening
and closing bracket is assigned. If the search is not successful then a
number less than 1 is assigned to those variables.
<p>If the file is not defined, an error report is written to the standard
output and to the programme's output file. If it is not connected to a
physical file or if a bracket is not found, an appropriate error code is
recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.21"></a><b>fskipbracto</b><i> { to bracstr &lt;pos1 pos2>
}</i></li>

<br>Like<i> </i><b>fskipbrac</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.22"></a><b>ffindnumber</b><i> { &lt; start next val > }</i></li>

<br>Searches in the file <i>infile</i> from the current position for the
first occurrence of a string which can represent a number. The number can
be written in any standard format in which numbers are written in text
files. If a number is found, the current position in the file is set to
the position of the first character of the string which represent the number.
<p>Optional arguments <i>start</i>, <i>next</i> and <i>val</i> specify
names of the expression evaluator's variables to which the position of
the found number, the position of the first character after the number,
and the value of the number are assigned, respectively. If the search is
not successful then integer numbers less than 1 are assigned to <i>start</i>
and <i>next</i>.
<p>If the file is not defined, an error report is written to the standard
output and to the programme's output file. If it is not connected to a
physical file or if a number is not found, an appropriate error code is
recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.23"></a><b>ffindnumberto</b><i> { to &lt; start next val
> }</i></li>

<br>Like <b>ffindnumber</b>, only that the operation is performed on a
limited region of the file. Argument <i>to<b> </b></i>specifies the upper
limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.24"></a><b>fskipnumber</b><i> { &lt; next start val > }</i></li>

<br>Searches in the file <i>infile</i> from the current position for the
first occurrence of a string which can represent a number. The number can
be written in any standard format in which numbers are written in text
files. If a number is found, the current position in the file is set to
the position of the first character <u>after</u> the string which represent
the number.
<p>Optional arguments <i>next</i>, <i>start</i> and <i>val</i> specify
names of the expression evaluator's variables to which the position of
the first character after the number, the position of the found number,
and the value of the number are assigned, respectively. If the search is
not successful then integer numbers less than 1 are assigned to <i>next</i>
and <i>start</i>.
<p>If the file is not defined, an error report is written to the standard
output and to the programme's output file. If it is not connected to a
physical file or if a number is not found, an appropriate error code is
recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.2.25"></a><b>fskipnumberto</b><i> { to &lt; next start val
> }</i></li>

<br>Like<i> </i><b>fskipnumber</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;</ol>

<li>
<a NAME="1.4.3"></a><b>Reading the Data</b></li>
</ol>

<ol>
<ol>
<li>
<a NAME="1.4.3.1"></a><b>freadnumber</b><i> { varname &lt;start next> }</i></li>

<br>Reads a number from the file <i>infile</i> and assigns its value to
the expression evaluator's variable named <i>varname</i>. Reading starts
at the current position in the file. A number must reside at that position,
otherwise the operation fails (blank characters are allowed between the
current position and a number). If the operation is successful, the current
position in the file is set to the position of the first character after
the read data.
<p>An optional argument <i>start</i> specifies a name of the expression
evaluator's variable to which the current position in the file before the
operation is assigned, and an optional argument <i>next</i> specifies a
name of the expression evaluator's variable to which the position of the
first character after the read data is assigned. In the case that no data
is read, the position before the operation is also assigned to the variable
named <i>next</i>. These values are assigned to the expression evaluator's
variables named <i>start</i> and <i>next</i> regardless of the success
of the operation, therefore the success can not be examined through the
values of these variables, but only through registered errors.
<p>If the file is not defined, an error report is written to the standard
output and to the programme's output file. If it is not connected to a
physical file or if the number can not be read, an appropriate error code
is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.3.2"></a><b>freadnumberto</b><i> { to varname &lt;start next>
}</i></li>

<br>Like<i> </i><b>freadnumber</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.3.3"></a><b>freadscalar</b><i> { scalspec &lt;start next>
}</i></li>

<br>Reads a number from the file <i>infile</i> and assigns it to a <u>programme's
scalar variable</u>. <i>scalspec</i> is a specification of the variable
to which the number is assigned. It must be given in a standard form consisting
of the variable name and optionally the index table in square brackets.
Reading starts at the current position in the file. A number must reside
at that position, otherwise the operation fails (blank characters are allowed
between the current position and a number). If the operation is successful,
the current position in the file is set to the position of the first character
after the read data.
<p>An optional argument <i>start</i> specifies a name of the expression
evaluator's variable to which the current position in the file before the
operation is assigned, and an optional argument <i>next</i> specifies a
name of the expression evaluator's variable to which the position of the
first character after the read data is assigned. In the case that no data
is read, the position before the operation is also assigned to the variable
named
<i>next</i>. These values are assigned to the expression evaluator's
variables named <i>start</i> and <i>next</i> regardless of the success
of the operation, therefore the success can not be examined through the
values of these variables, but only through registered errors.
<p>If the file is not defined, an error report is written to the standard
output and to the programme's output file. If it is not connected to a
physical file or if the scalar can not be read, an appropriate error code
is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.3.4"></a><b>freadscalarto</b><i> { to scalspec &lt;start next>
}</i></li>

<br>Like <b>freadscalar</b>, only that the operation is performed on a
limited region of the file. Argument <i>to<b> </b></i>specifies the upper
limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.3.5"></a><b>freadvector</b><i> { vecspec &lt;start next> }</i></li>

<br>Reads a vector from the file <i>infile</i> and assigns it to a <u>programme's
vector variable</u>. <i>vecspec</i> is a specification of the variable
to which the read vector is assigned. It must be given in a standard form
consisting of the variable name and optionally the index table in square
brackets. Reading starts at the current position in the file. A vector
must reside at that position, otherwise the operation fails (blank characters
are allowed between the current position and numbers of which the vector
consists). The vector must be given as a sequence of numbers the first
of which is vector's dimension and the others are its components. All the
components must be given and must follow in a successive order. If the
operation is successful, the current position in the file is set to the
position of the first character after the read data. If it is partially
successful, the current position is set to the position of the first character
after the last read number.
<p>An optional argument <i>start</i> specifies a name of the expression
evaluator's variable to which the current position in the file before the
operation is assigned, and an optional argument <i>next</i> specifies a
name of the expression evaluator's variable to which the position of the
first character after the read data is assigned. In the case that no data
is read, the position before the operation is also assigned to the variable
named <i>next</i>. These values are assigned to the expression evaluator's
variables named <i>start</i> and <i>next</i> regardless of the success
of the operation, therefore the success can not be examined through the
values of these variables, but only through registered errors.
<p>If the file is not defined, an error report is written to the standard
output and to the programme's output file. If it is not connected to a
physical file or if the vector can not be read, an appropriate error code
is recorded. An error code is also recorded if only a part of the vector
can be read.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.3.6"></a><b>freadvectorto</b><i> { to vecspec &lt;start next>
}</i></li>

<br>Like<i> </i><b>freadvector</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.3.7"></a><b>freadmatrix</b><i> { matspec &lt;start next> }</i></li>

<br>Reads a matrix from the file <i>infile</i> and assigns it to a <u>programme's
matrix variable</u>. <i>matspec</i> is a specification of the variable
to which the read matrix is assigned. It must be given in a standard form
consisting of the variable name and optionally the index table in square
brackets. Reading starts at the current position in the file. A matrix
must reside at that position, otherwise the operation fails (blank characters
are allowed between the current position and numbers of which the matrix
consists). The matrix must be given as a sequence of numbers the first
two of which are matrix's dimensions and the others are its components.
All the components must be given and must follow in a successive order
(column indices changing quicker than row indices). If the operation is
successful, the current position in the file is set to the position of
the first character after the read data. If it is partially successful,
the current position is set to the position of the first character after
the last read number.
<p>An optional argument <i>start</i> specifies a name of the expression
evaluator's variable to which the current position in the file before the
operation is assigned, and an optional argument <i>next</i> specifies a
name of the expression evaluator's variable to which the position of the
first character after the read data is assigned. In the case that no data
is read, the position before the operation is also assigned to the variable
named <i>next</i>. These values are assigned to the expression evaluator's
variables named <i>start</i> and <i>next</i> regardless of the success
of the operation, therefore the success can not be examined through the
values of these variables, but only through registered errors.
<p>If the file is not defined, an error report is written to the standard
output and to the programme's output file. If it is not connected to a
physical file or if the matrix can not be read, an appropriate error code
is recorded. An error code is also recorded if only a part of the matrix
can be read.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.4.3.8"></a><b>freadmatrixto</b><i> { to matspec &lt;start next>
}</i></li>

<br>Like<i> </i><b>freadmatrix</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.</ol>
</ol>

<li>
<a NAME="1.5"></a><b><i><font color="#CC0000"><font size=+1>File Interpreter's
Functions of the Interface which Operate on Arbitrary Files</font></font></i></b></li>

<br>&nbsp;
<table BORDER=3 CELLPADDING=3 BGCOLOR="#FFFFCC" NOSAVE >
<tr VALIGN=TOP NOSAVE>
<td><b><font size=-1><a href="#list">Manuals list</a></font></b></td>

<td NOSAVE><b><font size=-1><a href="../manlist/index.html#list">Manuals
list &amp; contents</a></font></b></td>

<td NOSAVE><b><font size=-1><a href="#contents">Table of contents&nbsp;</a></font></b></td>
</tr>
</table>

<ol>
<li>
<a NAME="1.5.1"></a><b>Controlling the State of the Files</b></li>
</ol>

<ol>
<ol>
<li>
<a NAME="1.5.1.1"></a><b>fprintfilepos</b> <i>{ filespec }</i></li>

<br>Prints a report about the current position in the file specified by
<i>filespec</i>
to the shell's output file.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.1.2"></a><b>printfilepos</b><i> { filespec }</i></li>

<br>Prints a report about the current position in the file specified by
<i>filespec</i>
to the standard output.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.1.3"></a><b>dprintfilepos</b><i> { filespec }</i></li>

<br>Prints a report about the current position in the file specified by
<i>filespec</i>
to the standard output and the programme's output file.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.1.4"></a><b>fprintfilepart</b><i> { filespec pos1 &lt;pos2>
}</i></li>

<br>Prints a part of the file specified by<i> filespec</i> to the shell's
output file. If <i>pos2</i> is specified, the part of the file from position
<i>pos1</i>
to (including) <i>pos2</i> is printed. If only <i>pos1</i> is specified,
<i>pos1</i>
bytes from the current position on (including the current position) of
the file is printed. It prints the file part in the form of a report where
it also prints which part of the file is printed.
<p>If both <i>pos1</i> and <i>pos2</i> are specified, they can be zero,
and <i>pos2</i> can be greater than the length of the file. In this case,
if <i>pos1</i> is zero, it is changed to 1, if <i>pos2</i> is zero, it
is changed to the length of the file, and if <i>pos2</i> is greater than
the length of the file, it is also changed to the length of the file before
the operation is performed. If only <i>pos1</i> is specified, it must be
greater than zero. If in this case <i>pos1</i> bytes from the current position
would exceed the length of the file, <i>pos1</i> is reduced before the
operation so that the length of the file is matched.
<p>An error is recorded if <i>pos1</i> or <i>pos2</i> are invalid. If <i>filespec</i>
is not specified or the appropriate file variable is not defined, an error
report is written to the standard output and to the programme's output
file. If it is not connected to a physical file, an appropriate error code
is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.1.5"></a><b>printfilepart</b><i> { filespec pos1 &lt;pos2>
}</i></li>

<br>Does the same as <b>fprintfilepart</b>, except that it prints to standard
output.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.1.6"></a><b>dprintfilepart</b><i> { filespec pos1 &lt;pos2>
}</i></li>

<br>Does the same as <b>fprintfilepart</b>, except that it prints to the
standard output <u>and</u> the programme's output file.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.1.7"></a><b>fwritefilepart</b><i> { filespec pos1 &lt;pos2>
}</i></li>

<br>Prints a part of the file specified by <i>filespec</i> to the shell's
output file. If <i>pos2</i> is specified, the part of the file from position
<i>pos1</i>
to (including) <i>pos2</i> is printed. If only <i>pos1</i> is specified,
<i>pos1</i>
bytes from the current position on (including the current position) of
the file is printed. Only the file part is printed without any explanation
or newlines, so this function is useful if the user wants to use the contents
of a file as a part of the output which he generates on his own way.
<p>If both <i>pos1</i> and <i>pos2</i> are specified, they can be zero,
and <i>pos2</i> can be greater than the length of the file. In this case,
if <i>pos1</i> is zero, it is changed to 1, if <i>pos2</i> is zero, it
is changed to the length of the file, and if <i>pos2</i> is greater than
the length of the file, it is also changed to the length of the file before
the operation is performed. If only <i>pos1</i> is specified, it must be
greater than zero. If in this case <i>pos1</i> bytes from the current position
would exceed the length of the file, <i>pos1</i> is reduced before the
operation so that the length of the file is matched.
<p>An error is recorded if <i>pos1</i> or <i>pos2</i> are invalid. If <i>filespec</i>
is not specified or the file variable is not defined, an error report is
written to the standard output and to the programme's output file. If it
is not connected to a physical file, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.1.8"></a><b>writefilepart</b><i> { filespec pos1 &lt;pos2>
}</i></li>

<br>Does the same as <b>fwritefilepart</b>, except that it prints to standard
output.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.1.9"></a><b>dwritefilepart</b><i> { filespec pos1 &lt;pos2>
}</i></li>

<br>Does the same as <b>fwritefilepart</b>, except that it prints to the
standard output <u>and</u> the programme's output file.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.1.10"></a><b>filesetpos</b><i> { filespec pos }</i></li>

<br>Sets the current position in the file specified by <i>filespec</i>
to the value of <i>pos</i>. <i>pos</i> should be a non-negative number
not greater than the file size. If it is not an integer, it is rounded
to the nearest integer. If it is zero, it is changed to the length of the
file plus 1 before the operation is performed.
<p>If it <i>pos</i> is greater than the length of the file, an error is
recorded and the position is set to the end of the file (file length plus
1). If rounded <i>pos</i> is less than zero, an error is recorded and nothing
else happens. If <i>fiespec</i> is not specified or the appropriate file
variable is not defined, an error report is written to the standard output
and to the programme's output file. If it is not connected to a physical
file, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.1.11"></a><b>fileincreasepos</b><i> { filespec inc }</i></li>

<br>Increases the current position in the file specified by <i>filespec</i>
by <i>inc</i>. <i>inc </i>is rounded to the nearest integer. It can be
negative (in this case the current position is decreased) or zero.
<p>If the new position would be less than 1, an error code is recorded
and the current position is set to 1. If the new position would be greater
than the file length, an error code is recorded and the current position
is set to the end of the file (the length of the file plus 1).
<p>If <i>filespec</i> is not specified or the file variable is not defined,
an error report is written to the standard output and to the programme's
output file. If it is not connected to a physical file, an appropriate
error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.1.12"></a><b>filemarkpos</b><i> { filespec pos }</i></li>

<br>Marks the current position in the file specified by <i>filespec</i>.
The position is assigned to the expression evaluator's variable named <i>pos</i>.
If the position can not be determined, an integer value less than 1 is
assigned to the variable.</ol>

<ol>If <i>filespec</i> is not specified or the appropriate file variable
is not defined, an error report is written to the standard output and to
the programme's output file. An error is not reported or recorded if the
file is not connected to a physical file. In this case the marked position
is less than one.
<br>&nbsp;
<br>&nbsp;</ol>

<li>
<a NAME="1.5.2"></a><b>Searching for the Data</b></li>
</ol>

<ol>
<ol>
<li>
<a NAME="1.5.2.1"></a><b>filefindstring</b><i> { filespec string &lt;pos
after> }</i></li>

<br>Searches for the string <i>string</i> in the file specified by <i>filespec</i>
from the current position on. If the string is found, it sets the current
position of this file to the first byte of the found string. <i>pos</i>
and <i>after</i> are optional arguments which specify the names of expression
evaluator's variables into which additional information is stored. The
function assigns the position of the string to the variable named <i>pos</i>
and the position of the first byte after the string to the variable named
<i>after</i>.
<p>If <i>filespec</i> is not given or the appropriate file is not defined,
an error report is written to the standard output and to the programme's
output file. If it is not connected to a physical file or if the string
is not found, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.2"></a><b>filefindstringto</b><i> { filespec to string &lt;pos
after> }</i></li>

<br>Like<i> </i><b>filefindstring</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.3"></a><b>fileskipstring </b><i>{ filespec string &lt;after
pos> }</i></li>

<br>Searches for the string <i>string</i> in the file specified by <i>filespec</i>
from the current position on. If the string is found, it sets the current
position of this file to the first byte after the found string. Optional
argument <i>after</i> specifies the name of the expression evaluator's
variable to which the function assigns this position, and <i>pos</i> specifies
the variable to which this function assigns the position of the found string
(i.e. the first byte if this string if the file).
<p>If <i>filespec</i> is not given or the appropriate file is not defined,
an error report is written to the standard output and to the programme's
output file. If it is not connected to a physical file or if the string
is not found, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.4"></a><b>fileskipstringto </b><i>{ filespec to string &lt;after
pos> }</i></li>

<br>Like<i> </i><b>fileskipstring</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.5"></a><b>filemultfindstring</b><i> { filespec {string1
string2 string3 string4 ...} &lt;pos after> }</i></li>

<br>Searches for the first occurrence of any of the strings <i>string1</i>,
<i>string2</i>,
<i>string3</i>,
etc. in the file specified by <i>filespec</i> from the current position
on. If it finds any of these strings, it sets the current position to the
position of the found string. Strings must be in curly brackets.
<p>If argument <i>pos</i> is given, the function assign the position of
the found string to the expression evaluator's variable named <i>pos</i>.
If <i>after</i> is also given, the function assign the position of the
first byte after the found string to the variable with such name.
<p>If <i>filespec</i> is not given or the appropriate file is not defined,
an error report is written to the standard output and to the programme's
output file. If it is not connected to a physical file or if the string
is not found, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.6"></a><b>filemultfindstringto</b><i> { filespec to {string1
string2 string3 string4 ...} &lt;pos after> }</i></li>

<br>Like <b>filemultfindstring</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.7"></a><b>filemultskipstring</b><i> { filespec {string1
string2 string3 string4 ...} &lt;after pos> }</i></li>

<br>Searches for the first occurrence of any of the strings <i>string1</i>,
<i>string2</i>,
<i>string3</i>,
etc. in the file specified by <i>filespec</i> from the current position
on. If it finds any of these strings, it sets the current position to the
position of the first byte after the found string. Strings must be in curly
brackets.
<p>If argument <i>after</i> is given, the function assign the position
of the first byte of the found string to the expression evaluator's variable
named <i>after</i>, and if <i>pos</i> is also specified, the function assign
the position of the found string to the variable with such name.
<p>If <i>filespec</i> is not given or the appropriate file is not defined,
an error report is written to the standard output and to the programme's
output file. If it is not connected to a physical file or if the string
is not found, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.8"></a><b>filemultskipstringto</b><i> { filespec to {string1
string2 string3 string4 ...} &lt;after pos> }</i></li>

<br>Like<i> </i><b>filemultskipstring</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.9"></a><b>filefindcharacter</b><i> {filespec charstring
&lt;pos> }</i></li>

<br>Searches in the file specified by <i>filespec</i> from the current
position for the first occurrence of a character included in the string
<i>charstring</i>.
If the search is successful then it sets the current position in the file
to the position of the found character.
<p>Optional argument <i>pos</i> specifies a name of the expression evaluator's
variable to which the position of the found character is assigned. If the
search is not successful then a number less than 1 is assigned to that
variable.
<p>If <i>filespec</i> is not given or the appropriate file is not defined,
an error report is written to the standard output and to the programme's
output file. If it is not connected to a physical file or if the character
is not found, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.10"></a><b>filefindcharacterto</b><i> { filespec to charstring
&lt;pos> }</i></li>

<br>Like<i> </i><b>filefindcharacter</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.11"></a><b>fileskipcharacters</b><i> { filespec charstring
&lt;pos> }</i></li>

<br>Searches in the file specified by <i>filespec</i> from the current
position for the first occurrence of a character <u>not</u> included in
the string
<i>charstring</i>. If the search is successful then it sets
the current position in the file to the position of the found character.
<p>Optional argument <i>pos</i> specifies a name of the expression evaluator's
variable to which the position of the found character is assigned. If the
search is not successful then a number less than 1 is assigned to that
variable.
<p>If <i>filespec</i> is not given or the appropriate file is not defined,
an error report is written to the standard output and to the programme's
output file. If it is not connected to a physical file or if the character
is not found, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.12"></a><b>fileskipcharactersto</b><i> { filespec to charstring
&lt;pos> }</i></li>

<br>Like<i> </i><b>fileskipcharacters</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.13"></a><b>filefindblank</b><i> { filespec &lt;pos> }</i></li>

<br>Searches in the file specified by <i>filespec</i> from the current
position for the first occurrence of a blank character, i.e. <u>space,
tab, newline, carriage return or null character</u>. If the search is successful
then it sets the current position in the file to the position of the found
character.
<p>Optional argument <i>pos</i> specifies a name of the expression evaluator's
variable to which the position of the found character is assigned. If the
search is not successful then a number less than 1 is assigned to that
variable.
<p>If <i>filespec</i> is not given or the appropriate file is not defined,
an error report is written to the standard output and to the programme's
output file. If it is not connected to a physical file or if the character
is not found, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.14"></a><b>filefindblankto</b><i> { filespec to &lt;pos>
}</i></li>

<br>Like<i> </i><b>filefindblank</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.15"></a><b>fileskipblanks</b><i> { filespec file &lt;pos>
}</i></li>

<br>Searches in the file specified by <i>filespec</i> from the current
position for the first occurrence of a non-blank character (blank characters
are the <u>space, tab, newline, carriage return and null character</u>).
If the search is successful then it sets the current position in the file
to the position of the found character.
<p>Optional argument <i>pos</i> specifies a name of the expression evaluator's
variable to which the position of the found character is assigned. If the
search is not successful then a number less than 1 is assigned to that
variable.
<p>If <i>filespec</i> is not given or the appropriate file is not defined,
an error report is written to the standard output and to the programme's
output file. If it is not connected to a physical file or if the character
is not found, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.16"></a><b>fileskipblanksto</b><i> { filespec to &lt;pos>
}</i></li>

<br>Like<i> </i><b>fileskipblanks</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.17"></a><b>filenextline</b><i> { filespec &lt;pos> }</i></li>

<br>Sets the current position in the file specified by <i>filespec</i>
to the beginning of the next line from the current position in this file.
If such position is found, it sets the current position in this file to
it.
<p>Optional argument <i>pos</i> specifies a name of the expression evaluator's
variable to which the position of the found position is assigned. If the
search is not successful then a number less than 1 is assigned to that
variable.
<p>If <i>filespec</i> is not given or the appropriate file is not defined,
an error report is written to the standard output and to the programme's
output file. If it is not connected to a physical file or if the next line
can not be located (e.g. when the current position is in the last line
of the file), an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.18"></a><b>filefindbrac</b><i> { filespec bracstr &lt;pos1
pos2> }</i></li>

<br>Searches in the file specified by <i>filespec</i> from the current
position for the first occurrence of a closed bracket specified by <i>bracstr</i>.
The first character of <i>bracstr</i> must be the character used for the
opening bracket and the second character of the string must be the character
used for the closing bracket. These characters may not be the same. Sequences
which represent special characters can be used in this string. If the search
is successful then the function sets the current position in the file to
the position of the first character inside the bracket if the bracket contain
any characters, otherwise it sets the current position to the position
of the first character after the bracket.
<p>Optional arguments <i>pos1</i> and <i>pos2</i> specify names of the
expression evaluator's variables to which the position of the found opening
and closing bracket is assigned. If the search is not successful then a
number less than 1 is assigned to those variables.
<p>If <i>filespec</i> is not given or the appropriate file is not defined,
an error report is written to the standard output and to the programme's
output file. If it is not connected to a physical file or if a bracket
is not found, an appropriate error code is recorded. An error code is also
recorded if a bracket is found but does not contain any characters, i.e.
the closing bracket immediately follow the opening bracket.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.19"></a><b>filefindbracto</b><i> { filespec to bracstr &lt;pos1
pos2> }</i></li>

<br>Like<i> </i><b>filefindbrac</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.20"></a><b>fileskipbrac</b><i> { filespec bracstr &lt;pos1
pos2> }</i></li>

<br>Searches in the file specified by <i>filespec</i> from the current
position for the first occurrence of a closed bracket specified by <i>bracstr</i>.
The first character of <i>bracstr</i> must be the character used for the
opening bracket and the second character of the string must be the character
used for the closing bracket. These characters may not be the same. Sequences
which represent special characters can be used in this string. If the search
is successful then the function sets the current position in the to the
position of the first character after the bracket.
<p>Optional arguments <i>pos1</i> and <i>pos2</i> specify names of the
expression evaluator's variables to which the position of the found opening
and closing bracket is assigned. If the search is not successful then a
number less than 1 is assigned to those variables.
<p>If <i>filespec</i> is not given or the appropriate file is not defined,
an error report is written to the standard output and to the programme's
output file. If it is not connected to a physical file or if a bracket
is not found, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.21"></a><b>fileskipbracto</b><i> { filespec to bracstr &lt;pos1
pos2> }</i></li>

<br>Like<i> </i><b>fileskipbrac</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.22"></a><b>filefindnumber</b><i> { filespec &lt; start next
val > }</i></li>

<br>Searches in the file specified by <i>filespec</i> from the current
position for the first occurrence of a string which can represent a number.
The number can be written in any standard format in which numbers are written
in text files. If a number is found, the current position in the file is
set to the position of the first character of the string which represent
the number.
<p>Optional arguments <i>start</i>, <i>next</i> and <i>val</i> specify
names of the expression evaluator's variables to which the position of
the found number, the position of the first character after the number,
and the value of the number are assigned, respectively. If the search is
not successful then integer numbers less than 1 are assigned to <i>start</i>
and <i>next</i>.
<p>If <i>filespec</i> is not given or the appropriate file is not defined,
an error report is written to the standard output and to the programme's
output file. If it is not connected to a physical file or if a number is
not found, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.23"></a><b>filefindnumberto</b><i> { filespec to &lt; start
next val > }</i></li>

<br>Like <b>filefindnumber</b>, only that the operation is performed on
a limited region of the file. Argument <i>to<b> </b></i>specifies the upper
limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.24"></a><b>fileskipnumber</b><i> { filespec &lt; next start
val > }</i></li>

<br>Searches in the file specified by <i>filespec</i> from the current
position for the first occurrence of a string which can represent a number.
The number can be written in any standard format in which numbers are written
in text files. If a number is found, the current position in the file is
set to the position of the first character <u>after</u> the string which
represent the number.
<p>Optional arguments <i>next</i>, <i>start</i> and <i>val</i> specify
names of the expression evaluator's variables to which the position of
the first character after the number, the position of the found number,
and the value of the number are assigned, respectively. If the search is
not successful then integer numbers less than 1 are assigned to <i>next</i>
and <i>start</i>.
<p>If <i>filespec</i> is not given or the appropriate file is not defined,
an error report is written to the standard output and to the programme's
output file. If it is not connected to a physical file or if a number is
not found, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.2.25"></a><b>fileskipnumberto</b><i> { filespec to &lt; next
start val > }</i></li>

<br>Like<i> </i><b>fileskipnumber</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;</ol>

<li>
<a NAME="1.5.3"></a><b>Reading the Data</b></li>
</ol>

<ol>
<ol>
<li>
<a NAME="1.5.3.1"></a><b>filereadnumber</b><i> { filespec varname &lt;start
next> }</i></li>

<br>Reads a number from the file specified by <i>filespec</i> and assigns
its value to the expression evaluator's variable named <i>varname</i>.
Reading starts at the current position in the file. A number must reside
at that position, otherwise the operation fails (blank characters are allowed
between the current position and a number). If the operation is successful,
the current position in the file is set to the position of the first character
after the read data.
<p>An optional argument <i>start</i> specifies a name of the expression
evaluator's variable to which the current position in the file before the
operation is assigned, and an optional argument <i>next</i> specifies a
name of the expression evaluator's variable to which the position of the
first character after the read data is assigned. In the case that no data
is read, the position before the operation is also assigned to the variable
named <i>next</i>. These values are assigned to the expression evaluator's
variables named <i>start</i> and <i>next</i> regardless of the success
of the operation, therefore the success can not be examined through the
values of these variables, but only through registered errors.
<p>If <i>filespec</i> is not given or the appropriate file is not defined,
an error report is written to the standard output and to the programme's
output file. If it is not connected to a physical file or if the number
can not be read, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.3.2"></a><b>filereadnumberto</b><i> { filespec to varname
&lt;start next> }</i></li>

<br>Like<i> </i><b>filereadnumber</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.3.3"></a><b>filereadscalar</b><i> { filespec scalspec &lt;start
next> }</i></li>

<br>Reads a number from the file specified by <i>filespec</i> and assigns
it to a <u>programme's scalar variable</u>. <i>scalspec</i> is a specification
of the variable to which the number is assigned. It must be given in a
standard form consisting of the variable name and optionally the index
table in square brackets. Reading starts at the current position in the
file. A number must reside at that position, otherwise the operation fails
(blank characters are allowed between the current position and a number).
If the operation is successful, the current position in the file is set
to the position of the first character after the read data.
<p>An optional argument <i>start</i> specifies a name of the expression
evaluator's variable to which the current position in the file before the
operation is assigned, and an optional argument <i>next</i> specifies a
name of the expression evaluator's variable to which the position of the
first character after the read data is assigned. In the case that no data
is read, the position before the operation is also assigned to the variable
named <i>next</i>. These values are assigned to the expression evaluator's
variables named <i>start</i> and <i>next</i> regardless of the success
of the operation, therefore the success can not be examined through the
values of these variables, but only through registered errors.
<p>If <i>filespec</i> is not given or the appropriate file is not defined,
an error report is written to the standard output and to the programme's
output file. If it is not connected to a physical file or if the scalar
can not be read, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.3.4"></a><b>filereadscalarto</b><i> { filespec to scalspec
&lt;start next> }</i></li>

<br>Like <b>filereadscalar</b>, only that the operation is performed on
a limited region of the file. Argument <i>to<b> </b></i>specifies the upper
limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.3.5"></a><b>filereadvector</b><i> { filespec vecspec &lt;start
next> }</i></li>

<br>Reads a vector from the file specified by <i>filespec</i> and assigns
it to a <u>programme's vector variable</u>. <i>vecspec</i> is a specification
of the variable to which the read vector is assigned. It must be given
in a standard form consisting of the variable name and optionally the index
table in square brackets. Reading starts at the current position in the
file. A vector must reside at that position, otherwise the operation fails
(blank characters are allowed between the current position and numbers
of which the vector consists). The vector must be given as a sequence of
numbers the first of which is vector's dimension and the others are its
components. All the components must be given and must follow in a successive
order. If the operation is successful, the current position in the file
is set to the position of the first character after the read data. If it
is partially successful, the current position is set to the position of
the first character after the last read number.
<p>An optional argument <i>start</i> specifies a name of the expression
evaluator's variable to which the current position in the file before the
operation is assigned, and an optional argument <i>next</i> specifies a
name of the expression evaluator's variable to which the position of the
first character after the read data is assigned. In the case that no data
is read, the position before the operation is also assigned to the variable
named <i>next</i>. These values are assigned to the expression evaluator's
variables named <i>start</i> and <i>next</i> regardless of the success
of the operation, therefore the success can not be examined through the
values of these variables, but only through registered errors.
<p>If <i>filespec</i> is not given or the appropriate file is not defined,
an error report is written to the standard output and to the programme's
output file. If it is not connected to a physical file or if the vector
can not be read, an appropriate error code is recorded. An error code is
also recorded if only a part of the vector can be read.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.3.6"></a><b>filereadvectorto</b><i> { filespec to vecspec
&lt;start next> }</i></li>

<br>Like<i> </i><b>filereadvector</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.3.7"></a><b>filereadmatrix</b><i> { filespec matspec &lt;start
next> }</i></li>

<br>Reads a matrix from the file specified by <i>filespec</i> and assigns
it to a <u>programme's matrix variable</u>. <i>matspec</i> is a specification
of the variable to which the read matrix is assigned. It must be given
in a standard form consisting of the variable name and optionally the index
table in square brackets. Reading starts at the current position in the
file. A matrix must reside at that position, otherwise the operation fails
(blank characters are allowed between the current position and numbers
of which the matrix consists). The matrix must be given as a sequence of
numbers the first two of which are matrix's dimensions and the others are
its components. All the components must be given and must follow in a successive
order (column indexes changing quicker than row indexes). If the operation
is successful, the current position in the file is set to the position
of the first character after the read data. If it is partially successful,
the current position is set to the position of the first character after
the last read number.
<p>An optional argument <i>start</i> specifies a name of the expression
evaluator's variable to which the current position in the file before the
operation is assigned, and an optional argument <i>next</i> specifies a
name of the expression evaluator's variable to which the position of the
first character after the read data is assigned. In the case that no data
is read, the position before the operation is also assigned to the variable
named <i>next</i>. These values are assigned to the expression evaluator's
variables named <i>start</i> and <i>next</i> regardless of the success
of the operation, therefore the success can not be examined through the
values of these variables, but only through registered errors.
<p>If <i>filespec</i> is not given or the appropriate file is not defined,
an error report is written to the standard output and to the programme's
output file. If it is not connected to a physical file or if the matrix
can not be read, an appropriate error code is recorded. An error code is
also recorded if only a part of the matrix can be read.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.3.8"></a><b>filereadmatrixto</b><i> { filespec to matspec
&lt;start next> }</i></li>

<br>Like<i> </i><b>filereadmatrix</b>, only that the operation is performed
on a limited region of the file. Argument <i>to<b> </b></i>specifies the
upper limit of the action range.
<br>&nbsp;
<br>&nbsp;</ol>

<li>
<a NAME="1.5.4"></a><b>Writing to Files and Copying File Parts</b></li>
</ol>

<ol>
<ol>
<li>
<a NAME="1.5.4.1"></a><b>filewrite</b><i> { filespec writespec }</i></li>

<br>Writes specified data in a specified format to the file specified by
<i>filespec</i>.
<i>filespec</i>
is the specification of a file which consists of the file variable name
and indexes of the file in the element table of this variable.
<i>writespec</i>
specifies what to write and in which form. The syntax of <i>writespec</i>
is the same as at the functions
<i>fwrite</i> and <i>write</i>. Writing
begins at the current position of the file given by <i>filespec</i>. After
the operation the current position is set to the first character after
the written text.
<p>An error report is written to the standard output and the programme's
output file if <i>filespec</i> is not specified and if the specified file
variable does not exist or if the corresponding file is not open.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.4.2"></a><b>copyfpart</b><i> { targetspec pos1 &lt;pos2> }</i></li>

<br>Copies a part of the file <i>infile</i> to the file specified by
<i>targetspec</i>.
<i>targetspec</i>
is the specification of a file which consists of the file variable name
and indexes of the file in the element table of this variable. If <i>pos2</i>
is specified, the part of the file from position
<i>pos1</i> to (including)
<i>pos2</i>
is copied. If only
<i>pos1</i> is specified, <i>pos1</i> bytes from the
current position on (including the current position) of the file is copied.
<p>The current position of the file <i>infile</i> remains unchanged while
the current position of the file specified by <i>targetspec</i> is set
to the first byte after the last copied byte.
<p>If both <i>pos1</i> and <i>pos2</i> are specified, they can be zero,
and <i>pos2</i> can be greater than the length of the file. In this case,
if <i>pos1</i> is zero, it is changed to 1, if <i>pos2</i> is zero, it
is changed to the length of the file, and if <i>pos2</i> is greater than
the length of the file, it is also changed to the length of the file before
the operation is performed. If only <i>pos1</i> is specified, it must be
greater than zero. If in this case <i>pos1</i> bytes from the current position
would exceed the length of the file, <i>pos1</i> is reduced before the
operation so that the length of the file is matched.
<p>An error is recorded if <i>pos1</i> or <i>pos2</i> are invalid. If the
file <i>infile</i> is not defined, an error report is written to the standard
output and to the programme's output file. If it is not connected to a
physical file, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.5.4.3"></a><b>copyfilepart</b><i> { sourcespec targetspec pos1
&lt;pos2> }</i></li>

<br>consist of a file variable name and indexes of the file in the element
table of the variable. If <i>pos2</i> is specified, the part of the file
from position <i>pos1</i> to (including)
<i>pos2</i> is copied. If only
<i>pos1</i>
is specified, <i>pos1</i> bytes from the current position on (including
the current position) of the file is copied.</ol>
</ol>

<ol>
<ol>The current position of the file specified by <i>sourcespec </i>remains
unchanged while the current position of the file specified by <i>targetspec</i>
is set to the first byte after the last copied byte.</ol>
</ol>

<ol>
<ol>If both <i>pos1</i> and <i>pos2</i> are specified, they can be zero,
and <i>pos2</i> can be greater than the length of the file. In this case,
if <i>pos1</i> is zero, it is changed to 1, if <i>pos2</i> is zero, it
is changed to the length of the file, and if <i>pos2</i> is greater than
the length of the file, it is also changed to the length of the file before
the operation is performed. If only <i>pos1</i> is specified, it must be
greater than zero. If in this case <i>pos1</i> bytes from the current position
would exceed the length of the file, <i>pos1</i> is reduced before the
operation so that the length of the file is matched.</ol>
</ol>

<ol>
<ol>An error is recorded if <i>pos1</i> or <i>pos2</i> are invalid. If
any of the files specified by <i>sourcespec</i> or <i>targerspec</i> is
not defined, an error report is written to the standard output and to the
programme's output file. If any of these files is not connected to a physical
file, an appropriate error code is recorded.
<br>&nbsp;
<br>&nbsp;</ol>
</ol>

<li>
<a NAME="1.6"></a><b><i><font color="#CC0000"><font size=+1>Expression
Evaluator's Functions of the Interface</font></font></i></b></li>

<br>&nbsp;
<table BORDER=3 CELLPADDING=3 BGCOLOR="#FFFFCC" NOSAVE >
<tr VALIGN=TOP NOSAVE>
<td><b><font size=-1><a href="#list">Manuals list</a></font></b></td>

<td NOSAVE><b><font size=-1><a href="../manlist/index.html#list">Manuals
list &amp; contents</a></font></b></td>

<td NOSAVE><b><font size=-1><a href="#contents">Table of contents&nbsp;</a></font></b></td>
</tr>
</table>

<ol>
<ol>
<li>
<a NAME="1.6.1"></a><b>fileoperror</b><i> [ &lt;which> ]</i></li>

<br>If the function is called without arguments, it evaluates to the error
status of the last file operation. Code 0 means that the last operation
was performed successfully.
<p>If the value of argument <i>which</i> is zero, the function evaluates
to the number of recorded errors during file operations. Otherwise, the
function evaluates to a specific error code where <i>which</i> is a successive
number of an error on the stack of errors recorded during file operations.
If the value of <i>which</i> is not integer, its value is rounded to the
nearest integer. If it is negative, its absolute value specifies the successive
number counted backwards (e.g. -1 refers to the last recorded error, -2
refers the pre-last recorded error, etc.).
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.6.2"></a><b>getfpos</b><i> [ ]</i></li>

<br>Evaluates to the current position in the file <i>infile</i>. If the
current position is not defined (e.g. if the file is not existent) it evaluates
to an integer number less than 1.
<p>An error report is written to the standard output and the programme's
output file if the file does not exist.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.6.3"></a><b>getfilepos</b><i> [ filename, &lt; index1, index2,
... > ]</i></li>

<br>Evaluates to the current position in the file specified by the name
<i>filename</i>
and indeces <i>index1</i>, <i>index2</i>, etc. If the current position
is not defined (e.g. if the file is not existent) it evaluates to an integer
number less than 1.
<p>An error report is written to the standard output and the programme's
output file if the file does not exist.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.6.4"></a><b>getfeof</b><i> [ ]</i></li>

<br>Evaluates to a non-zero value if the current position in the file
<i>infile</i>
is at the end of the file, otherwise it evaluates to 0. It also evaluates
to 0 if the current position can not be determined (e.g. if the file does
not exist).
<p>An error report is written to the standard output and the programme's
output file if the file does not exist.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.6.5"></a><b>getfileeof</b><i> [ filename, &lt; index1, index2,
... > ]</i></li>

<br>Evaluates to a non-zero value if the current position in the file specified
by the name <i>filename</i> and indexes <i>index1</i>, <i>index2</i>, etc.,
is at the end of the file, otherwise it evaluates to 0. It also evaluates
to 0 if the current position can not be determined (e.g. if the file does
not exist).
<p>An error report is written to the standard output and the programme's
output file if the file does not exist.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.6.6"></a><b>getflength </b><i>[ ]</i></li>

<br>Evaluates to the length of the file <i>infile</i>. If the length can
not be determined, it evaluates to an integer number less than 1 (e.g.
if the file does not exist or is not connected to a physical file).
<p>An error report is written to the standard output and the programme's
output file if the file does not exist.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.6.7"></a><b>getfilelength </b><i>[ filename, &lt; index1, index2,
... > ]</i></li>

<br>Evaluates to the length of the file specified by the name <i>filename</i>
and indexes <i>index1</i>, <i>index2</i>, etc. If the length can not be
determined, it evaluates to an integer number less than 1 (e.g. if the
file does not exist or is not connected to a physical file).
<p>An error report is written to the standard output and the programme's
output file if the file does not exist.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.6.8"></a><b>fcheckcharacter</b><i> [ charstr ]</i></li>

<br>Evaluates to a non-zero number if the character on the current position
in the file <i>infile</i> is contained in the string <i>charstr</i>, otherwise
it evaluates to 0. Zero characters may not be contained in the <i>charstr</i>.
<p>An error report is written to the standard output and the programme's
output file if the file does not exist.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.6.9"></a><b>filecheckcharacter</b><i> [ filename, charstr, &lt;
index1, index2, ... > ]</i></li>

<br>Evaluates to a non-zero number if the character on the current position
in the file specified by the name <i>filename</i> and indexes <i>index1</i>,
<i>index2</i>,
etc., is contained in the string <i>charstr</i>, otherwise it evaluates
to 0. Zero characters may not be contained in the <i>charstr</i>.
<p>An error report is written to the standard output and the programme's
output file if the file does not exist.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.6.10"></a><b>fcheckstring</b><i> [ str ]</i></li>

<br>Evaluates to a non-zero number if the string <i>str</i> begins at the
current position of the file <i>infile</i>, otherwise it evaluates to 0.
It is not necessary that the string is followed by a blank character.
<p>An error report is written to the standard output and the programme's
output file if the file does not exist.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.6.11"></a><b>filecheckstring</b><i> [ filename, str, &lt; index1,
index2, ... > ]</i></li>

<br>Evaluates to a non-zero number if the string <i>str</i> begins at the
current position of the file specified by the name <i>filename</i> and
indexes <i>index1</i>, <i>index2</i>, etc., otherwise it evaluates to 0.
It is not necessary that the string is followed by a blank character.
<p>An error report is written to the standard output and the programme's
output file if the file does not exist.
<br>&nbsp;
<br>&nbsp;
<li>
<a NAME="1.6.12"></a><b>getfile</b><i> [ varname spec &lt;index1 index2
...> ]</i></li>
</ol>
</ol>

<div align=right><i>Igor G, the 3<sup>rd</sup> of July 1998</i></div>

<br>&nbsp;
<br>&nbsp;
</body>
</html>
